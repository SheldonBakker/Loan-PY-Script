{"timestamp": "2025-03-07 07:58:15,203", "level": "INFO", "logger": "root", "message": "Structured logging initialized", "module": "loans", "function": "setup_logging", "line": 110, "hostname": "Sheldon", "app": "loan_management_system", "session_id": "ee6b38c0-acab-453b-b338-b6b7eab4a7ab", "platform": {"system": "Windows", "release": "11", "version": "10.0.26100", "python": "3.13.2 (tags/v3.13.2:4f8bb39, Feb  4 2025, 15:23:48) [MSC v.1942 64 bit (AMD64)]"}}
{"timestamp": "2025-03-07 07:58:15,671", "level": "INFO", "logger": "root", "message": "Performing initial database connection check...", "module": "loans", "function": "run_cli", "line": 1423, "hostname": "Sheldon", "app": "loan_management_system", "session_id": "ee6b38c0-acab-453b-b338-b6b7eab4a7ab", "platform": {"system": "Windows", "release": "11", "version": "10.0.26100", "python": "3.13.2 (tags/v3.13.2:4f8bb39, Feb  4 2025, 15:23:48) [MSC v.1942 64 bit (AMD64)]"}}
{"timestamp": "2025-03-07 07:58:16,520", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET https://ybsarkhaayjzlgamlcry.supabase.co/rest/v1/loans?select=count&limit=1 \"HTTP/2 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1025, "hostname": "Sheldon", "app": "loan_management_system", "session_id": "ee6b38c0-acab-453b-b338-b6b7eab4a7ab", "platform": {"system": "Windows", "release": "11", "version": "10.0.26100", "python": "3.13.2 (tags/v3.13.2:4f8bb39, Feb  4 2025, 15:23:48) [MSC v.1942 64 bit (AMD64)]"}}
{"timestamp": "2025-03-07 07:58:16,527", "level": "INFO", "logger": "root", "message": "Database connection test successful. Found 1 loans.", "module": "loans", "function": "log_with_context", "line": 102, "hostname": "Sheldon", "app": "loan_management_system", "session_id": "ee6b38c0-acab-453b-b338-b6b7eab4a7ab", "platform": {"system": "Windows", "release": "11", "version": "10.0.26100", "python": "3.13.2 (tags/v3.13.2:4f8bb39, Feb  4 2025, 15:23:48) [MSC v.1942 64 bit (AMD64)]"}, "operation": "check_database_connection", "table": "loans", "record_count": 1}
{"timestamp": "2025-03-07 07:58:16,728", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET https://ybsarkhaayjzlgamlcry.supabase.co/rest/v1/clients?select=count&limit=1 \"HTTP/2 206 Partial Content\"", "module": "_client", "function": "_send_single_request", "line": 1025, "hostname": "Sheldon", "app": "loan_management_system", "session_id": "ee6b38c0-acab-453b-b338-b6b7eab4a7ab", "platform": {"system": "Windows", "release": "11", "version": "10.0.26100", "python": "3.13.2 (tags/v3.13.2:4f8bb39, Feb  4 2025, 15:23:48) [MSC v.1942 64 bit (AMD64)]"}}
{"timestamp": "2025-03-07 07:58:16,728", "level": "INFO", "logger": "root", "message": "Clients table accessible. Found 1047 clients.", "module": "loans", "function": "log_with_context", "line": 102, "hostname": "Sheldon", "app": "loan_management_system", "session_id": "ee6b38c0-acab-453b-b338-b6b7eab4a7ab", "platform": {"system": "Windows", "release": "11", "version": "10.0.26100", "python": "3.13.2 (tags/v3.13.2:4f8bb39, Feb  4 2025, 15:23:48) [MSC v.1942 64 bit (AMD64)]"}, "operation": "check_database_connection", "table": "clients", "record_count": 1047}
{"timestamp": "2025-03-07 07:58:16,915", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET https://ybsarkhaayjzlgamlcry.supabase.co/rest/v1/loan_payments?select=count&limit=1 \"HTTP/2 206 Partial Content\"", "module": "_client", "function": "_send_single_request", "line": 1025, "hostname": "Sheldon", "app": "loan_management_system", "session_id": "ee6b38c0-acab-453b-b338-b6b7eab4a7ab", "platform": {"system": "Windows", "release": "11", "version": "10.0.26100", "python": "3.13.2 (tags/v3.13.2:4f8bb39, Feb  4 2025, 15:23:48) [MSC v.1942 64 bit (AMD64)]"}}
{"timestamp": "2025-03-07 07:58:16,918", "level": "INFO", "logger": "root", "message": "Loan payments table accessible. Found 2 payment records.", "module": "loans", "function": "log_with_context", "line": 102, "hostname": "Sheldon", "app": "loan_management_system", "session_id": "ee6b38c0-acab-453b-b338-b6b7eab4a7ab", "platform": {"system": "Windows", "release": "11", "version": "10.0.26100", "python": "3.13.2 (tags/v3.13.2:4f8bb39, Feb  4 2025, 15:23:48) [MSC v.1942 64 bit (AMD64)]"}, "operation": "check_database_connection", "table": "loan_payments", "record_count": 2}
{"timestamp": "2025-03-07 07:58:17,110", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET https://ybsarkhaayjzlgamlcry.supabase.co/rest/v1/gun_licences?select=count&limit=1 \"HTTP/2 206 Partial Content\"", "module": "_client", "function": "_send_single_request", "line": 1025, "hostname": "Sheldon", "app": "loan_management_system", "session_id": "ee6b38c0-acab-453b-b338-b6b7eab4a7ab", "platform": {"system": "Windows", "release": "11", "version": "10.0.26100", "python": "3.13.2 (tags/v3.13.2:4f8bb39, Feb  4 2025, 15:23:48) [MSC v.1942 64 bit (AMD64)]"}}
{"timestamp": "2025-03-07 07:58:17,111", "level": "INFO", "logger": "root", "message": "Gun licences table accessible. Found 365 licence records.", "module": "loans", "function": "log_with_context", "line": 102, "hostname": "Sheldon", "app": "loan_management_system", "session_id": "ee6b38c0-acab-453b-b338-b6b7eab4a7ab", "platform": {"system": "Windows", "release": "11", "version": "10.0.26100", "python": "3.13.2 (tags/v3.13.2:4f8bb39, Feb  4 2025, 15:23:48) [MSC v.1942 64 bit (AMD64)]"}, "operation": "check_database_connection", "table": "gun_licences", "record_count": 365}
{"timestamp": "2025-03-07 07:58:17,112", "level": "INFO", "logger": "root", "message": "Starting loan payment notification process at 2025-03-07 07:58:17", "module": "loans", "function": "log_with_context", "line": 102, "hostname": "Sheldon", "app": "loan_management_system", "session_id": "ee6b38c0-acab-453b-b338-b6b7eab4a7ab", "platform": {"system": "Windows", "release": "11", "version": "10.0.26100", "python": "3.13.2 (tags/v3.13.2:4f8bb39, Feb  4 2025, 15:23:48) [MSC v.1942 64 bit (AMD64)]"}, "operation": "main", "test_mode": false, "send_emails": true, "send_admin_summary": false, "start_time": "2025-03-07T07:58:17.112192"}
{"timestamp": "2025-03-07 07:58:17,310", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET https://ybsarkhaayjzlgamlcry.supabase.co/rest/v1/loans?select=count&limit=1 \"HTTP/2 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1025, "hostname": "Sheldon", "app": "loan_management_system", "session_id": "ee6b38c0-acab-453b-b338-b6b7eab4a7ab", "platform": {"system": "Windows", "release": "11", "version": "10.0.26100", "python": "3.13.2 (tags/v3.13.2:4f8bb39, Feb  4 2025, 15:23:48) [MSC v.1942 64 bit (AMD64)]"}}
{"timestamp": "2025-03-07 07:58:17,312", "level": "INFO", "logger": "root", "message": "Supabase connection test successful", "module": "loans", "function": "main", "line": 498, "hostname": "Sheldon", "app": "loan_management_system", "session_id": "ee6b38c0-acab-453b-b338-b6b7eab4a7ab", "platform": {"system": "Windows", "release": "11", "version": "10.0.26100", "python": "3.13.2 (tags/v3.13.2:4f8bb39, Feb  4 2025, 15:23:48) [MSC v.1942 64 bit (AMD64)]"}}
{"timestamp": "2025-03-07 07:58:17,313", "level": "INFO", "logger": "root", "message": "Running update_overdue_loans at 2025-03-07 07:58:17", "module": "loans", "function": "update_overdue_loans", "line": 692, "hostname": "Sheldon", "app": "loan_management_system", "session_id": "ee6b38c0-acab-453b-b338-b6b7eab4a7ab", "platform": {"system": "Windows", "release": "11", "version": "10.0.26100", "python": "3.13.2 (tags/v3.13.2:4f8bb39, Feb  4 2025, 15:23:48) [MSC v.1942 64 bit (AMD64)]"}}
{"timestamp": "2025-03-07 07:58:17,500", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET https://ybsarkhaayjzlgamlcry.supabase.co/rest/v1/loans?select=id%2Cpayment_due_date%2Cclient_id%2Cinvoice_number%2Cloan_amount%2Cremaining_balance&status=eq.active&payment_due_date=lt.2025-03-07T07%3A58%3A17.313022 \"HTTP/2 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1025, "hostname": "Sheldon", "app": "loan_management_system", "session_id": "ee6b38c0-acab-453b-b338-b6b7eab4a7ab", "platform": {"system": "Windows", "release": "11", "version": "10.0.26100", "python": "3.13.2 (tags/v3.13.2:4f8bb39, Feb  4 2025, 15:23:48) [MSC v.1942 64 bit (AMD64)]"}}
{"timestamp": "2025-03-07 07:58:17,503", "level": "INFO", "logger": "root", "message": "Found 0 potentially overdue loans", "module": "loans", "function": "update_overdue_loans", "line": 713, "hostname": "Sheldon", "app": "loan_management_system", "session_id": "ee6b38c0-acab-453b-b338-b6b7eab4a7ab", "platform": {"system": "Windows", "release": "11", "version": "10.0.26100", "python": "3.13.2 (tags/v3.13.2:4f8bb39, Feb  4 2025, 15:23:48) [MSC v.1942 64 bit (AMD64)]"}}
{"timestamp": "2025-03-07 07:58:17,504", "level": "INFO", "logger": "root", "message": "Updated 0 loans to overdue status, skipped 0 loans with sufficient payments, encountered 0 errors", "module": "loans", "function": "update_overdue_loans", "line": 831, "hostname": "Sheldon", "app": "loan_management_system", "session_id": "ee6b38c0-acab-453b-b338-b6b7eab4a7ab", "platform": {"system": "Windows", "release": "11", "version": "10.0.26100", "python": "3.13.2 (tags/v3.13.2:4f8bb39, Feb  4 2025, 15:23:48) [MSC v.1942 64 bit (AMD64)]"}}
{"timestamp": "2025-03-07 07:58:17,506", "level": "INFO", "logger": "root", "message": "Updated 0 loans to overdue status", "module": "loans", "function": "main", "line": 506, "hostname": "Sheldon", "app": "loan_management_system", "session_id": "ee6b38c0-acab-453b-b338-b6b7eab4a7ab", "platform": {"system": "Windows", "release": "11", "version": "10.0.26100", "python": "3.13.2 (tags/v3.13.2:4f8bb39, Feb  4 2025, 15:23:48) [MSC v.1942 64 bit (AMD64)]"}}
{"timestamp": "2025-03-07 07:58:17,699", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET https://ybsarkhaayjzlgamlcry.supabase.co/rest/v1/loans?select=count&limit=1 \"HTTP/2 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1025, "hostname": "Sheldon", "app": "loan_management_system", "session_id": "ee6b38c0-acab-453b-b338-b6b7eab4a7ab", "platform": {"system": "Windows", "release": "11", "version": "10.0.26100", "python": "3.13.2 (tags/v3.13.2:4f8bb39, Feb  4 2025, 15:23:48) [MSC v.1942 64 bit (AMD64)]"}}
{"timestamp": "2025-03-07 07:58:17,700", "level": "INFO", "logger": "root", "message": "Found 1 loans in the database", "module": "loans", "function": "log_with_context", "line": 102, "hostname": "Sheldon", "app": "loan_management_system", "session_id": "ee6b38c0-acab-453b-b338-b6b7eab4a7ab", "platform": {"system": "Windows", "release": "11", "version": "10.0.26100", "python": "3.13.2 (tags/v3.13.2:4f8bb39, Feb  4 2025, 15:23:48) [MSC v.1942 64 bit (AMD64)]"}, "operation": "check_loans_table", "record_count": 1}
{"timestamp": "2025-03-07 07:58:17,700", "level": "INFO", "logger": "root", "message": "Today is not the 22nd day of the month. Use --test to run anyway. Exiting.", "module": "loans", "function": "main", "line": 554, "hostname": "Sheldon", "app": "loan_management_system", "session_id": "ee6b38c0-acab-453b-b338-b6b7eab4a7ab", "platform": {"system": "Windows", "release": "11", "version": "10.0.26100", "python": "3.13.2 (tags/v3.13.2:4f8bb39, Feb  4 2025, 15:23:48) [MSC v.1942 64 bit (AMD64)]"}}
{"timestamp": "2025-03-07 07:58:17,700", "level": "INFO", "logger": "root", "message": "Loan payment notification process completed at 2025-03-07 07:58:17", "module": "loans", "function": "main", "line": 675, "hostname": "Sheldon", "app": "loan_management_system", "session_id": "ee6b38c0-acab-453b-b338-b6b7eab4a7ab", "platform": {"system": "Windows", "release": "11", "version": "10.0.26100", "python": "3.13.2 (tags/v3.13.2:4f8bb39, Feb  4 2025, 15:23:48) [MSC v.1942 64 bit (AMD64)]"}}
{"timestamp": "2025-03-07 07:58:17,703", "level": "INFO", "logger": "root", "message": "Total execution time: 0.59 seconds", "module": "loans", "function": "main", "line": 676, "hostname": "Sheldon", "app": "loan_management_system", "session_id": "ee6b38c0-acab-453b-b338-b6b7eab4a7ab", "platform": {"system": "Windows", "release": "11", "version": "10.0.26100", "python": "3.13.2 (tags/v3.13.2:4f8bb39, Feb  4 2025, 15:23:48) [MSC v.1942 64 bit (AMD64)]"}}
{"timestamp": "2025-03-07 07:58:17,703", "level": "INFO", "logger": "root", "message": "Summary: 0 loans processed, 0 successful notifications, 0 loans marked as overdue, 0 penalties applied", "module": "loans", "function": "main", "line": 677, "hostname": "Sheldon", "app": "loan_management_system", "session_id": "ee6b38c0-acab-453b-b338-b6b7eab4a7ab", "platform": {"system": "Windows", "release": "11", "version": "10.0.26100", "python": "3.13.2 (tags/v3.13.2:4f8bb39, Feb  4 2025, 15:23:48) [MSC v.1942 64 bit (AMD64)]"}}
{"timestamp": "2025-03-07 07:58:17,703", "level": "INFO", "logger": "root", "message": "Reminders: 0 payment reminders, 0 due date reminders, 0 overdue notifications", "module": "loans", "function": "main", "line": 678, "hostname": "Sheldon", "app": "loan_management_system", "session_id": "ee6b38c0-acab-453b-b338-b6b7eab4a7ab", "platform": {"system": "Windows", "release": "11", "version": "10.0.26100", "python": "3.13.2 (tags/v3.13.2:4f8bb39, Feb  4 2025, 15:23:48) [MSC v.1942 64 bit (AMD64)]"}}
{"timestamp": "2025-03-07 08:02:49,067", "level": "INFO", "logger": "root", "message": "Structured logging initialized", "module": "loans", "function": "setup_logging", "line": 110, "hostname": "Sheldon", "app": "loan_management_system", "session_id": "27ee7573-77ce-4554-a5ca-a296aaa46e50", "platform": {"system": "Windows", "release": "11", "version": "10.0.26100", "python": "3.13.2 (tags/v3.13.2:4f8bb39, Feb  4 2025, 15:23:48) [MSC v.1942 64 bit (AMD64)]"}}
{"timestamp": "2025-03-07 08:02:49,452", "level": "INFO", "logger": "root", "message": "Performing initial database connection check...", "module": "loans", "function": "run_cli", "line": 1423, "hostname": "Sheldon", "app": "loan_management_system", "session_id": "27ee7573-77ce-4554-a5ca-a296aaa46e50", "platform": {"system": "Windows", "release": "11", "version": "10.0.26100", "python": "3.13.2 (tags/v3.13.2:4f8bb39, Feb  4 2025, 15:23:48) [MSC v.1942 64 bit (AMD64)]"}}
{"timestamp": "2025-03-07 08:02:50,302", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET https://ybsarkhaayjzlgamlcry.supabase.co/rest/v1/loans?select=count&limit=1 \"HTTP/2 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1025, "hostname": "Sheldon", "app": "loan_management_system", "session_id": "27ee7573-77ce-4554-a5ca-a296aaa46e50", "platform": {"system": "Windows", "release": "11", "version": "10.0.26100", "python": "3.13.2 (tags/v3.13.2:4f8bb39, Feb  4 2025, 15:23:48) [MSC v.1942 64 bit (AMD64)]"}}
{"timestamp": "2025-03-07 08:02:50,312", "level": "INFO", "logger": "root", "message": "Database connection test successful. Found 1 loans.", "module": "loans", "function": "log_with_context", "line": 102, "hostname": "Sheldon", "app": "loan_management_system", "session_id": "27ee7573-77ce-4554-a5ca-a296aaa46e50", "platform": {"system": "Windows", "release": "11", "version": "10.0.26100", "python": "3.13.2 (tags/v3.13.2:4f8bb39, Feb  4 2025, 15:23:48) [MSC v.1942 64 bit (AMD64)]"}, "operation": "check_database_connection", "table": "loans", "record_count": 1}
{"timestamp": "2025-03-07 08:02:50,513", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET https://ybsarkhaayjzlgamlcry.supabase.co/rest/v1/clients?select=count&limit=1 \"HTTP/2 206 Partial Content\"", "module": "_client", "function": "_send_single_request", "line": 1025, "hostname": "Sheldon", "app": "loan_management_system", "session_id": "27ee7573-77ce-4554-a5ca-a296aaa46e50", "platform": {"system": "Windows", "release": "11", "version": "10.0.26100", "python": "3.13.2 (tags/v3.13.2:4f8bb39, Feb  4 2025, 15:23:48) [MSC v.1942 64 bit (AMD64)]"}}
{"timestamp": "2025-03-07 08:02:50,516", "level": "INFO", "logger": "root", "message": "Clients table accessible. Found 1047 clients.", "module": "loans", "function": "log_with_context", "line": 102, "hostname": "Sheldon", "app": "loan_management_system", "session_id": "27ee7573-77ce-4554-a5ca-a296aaa46e50", "platform": {"system": "Windows", "release": "11", "version": "10.0.26100", "python": "3.13.2 (tags/v3.13.2:4f8bb39, Feb  4 2025, 15:23:48) [MSC v.1942 64 bit (AMD64)]"}, "operation": "check_database_connection", "table": "clients", "record_count": 1047}
{"timestamp": "2025-03-07 08:02:50,705", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET https://ybsarkhaayjzlgamlcry.supabase.co/rest/v1/loan_payments?select=count&limit=1 \"HTTP/2 206 Partial Content\"", "module": "_client", "function": "_send_single_request", "line": 1025, "hostname": "Sheldon", "app": "loan_management_system", "session_id": "27ee7573-77ce-4554-a5ca-a296aaa46e50", "platform": {"system": "Windows", "release": "11", "version": "10.0.26100", "python": "3.13.2 (tags/v3.13.2:4f8bb39, Feb  4 2025, 15:23:48) [MSC v.1942 64 bit (AMD64)]"}}
{"timestamp": "2025-03-07 08:02:50,706", "level": "INFO", "logger": "root", "message": "Loan payments table accessible. Found 2 payment records.", "module": "loans", "function": "log_with_context", "line": 102, "hostname": "Sheldon", "app": "loan_management_system", "session_id": "27ee7573-77ce-4554-a5ca-a296aaa46e50", "platform": {"system": "Windows", "release": "11", "version": "10.0.26100", "python": "3.13.2 (tags/v3.13.2:4f8bb39, Feb  4 2025, 15:23:48) [MSC v.1942 64 bit (AMD64)]"}, "operation": "check_database_connection", "table": "loan_payments", "record_count": 2}
{"timestamp": "2025-03-07 08:02:50,899", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET https://ybsarkhaayjzlgamlcry.supabase.co/rest/v1/gun_licences?select=count&limit=1 \"HTTP/2 206 Partial Content\"", "module": "_client", "function": "_send_single_request", "line": 1025, "hostname": "Sheldon", "app": "loan_management_system", "session_id": "27ee7573-77ce-4554-a5ca-a296aaa46e50", "platform": {"system": "Windows", "release": "11", "version": "10.0.26100", "python": "3.13.2 (tags/v3.13.2:4f8bb39, Feb  4 2025, 15:23:48) [MSC v.1942 64 bit (AMD64)]"}}
{"timestamp": "2025-03-07 08:02:50,902", "level": "INFO", "logger": "root", "message": "Gun licences table accessible. Found 365 licence records.", "module": "loans", "function": "log_with_context", "line": 102, "hostname": "Sheldon", "app": "loan_management_system", "session_id": "27ee7573-77ce-4554-a5ca-a296aaa46e50", "platform": {"system": "Windows", "release": "11", "version": "10.0.26100", "python": "3.13.2 (tags/v3.13.2:4f8bb39, Feb  4 2025, 15:23:48) [MSC v.1942 64 bit (AMD64)]"}, "operation": "check_database_connection", "table": "gun_licences", "record_count": 365}
{"timestamp": "2025-03-07 08:02:50,903", "level": "INFO", "logger": "root", "message": "Starting loan payment notification process at 2025-03-07 08:02:50", "module": "loans", "function": "log_with_context", "line": 102, "hostname": "Sheldon", "app": "loan_management_system", "session_id": "27ee7573-77ce-4554-a5ca-a296aaa46e50", "platform": {"system": "Windows", "release": "11", "version": "10.0.26100", "python": "3.13.2 (tags/v3.13.2:4f8bb39, Feb  4 2025, 15:23:48) [MSC v.1942 64 bit (AMD64)]"}, "operation": "main", "test_mode": false, "send_emails": true, "send_admin_summary": false, "start_time": "2025-03-07T08:02:50.903391"}
{"timestamp": "2025-03-07 08:02:51,199", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET https://ybsarkhaayjzlgamlcry.supabase.co/rest/v1/loans?select=count&limit=1 \"HTTP/2 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1025, "hostname": "Sheldon", "app": "loan_management_system", "session_id": "27ee7573-77ce-4554-a5ca-a296aaa46e50", "platform": {"system": "Windows", "release": "11", "version": "10.0.26100", "python": "3.13.2 (tags/v3.13.2:4f8bb39, Feb  4 2025, 15:23:48) [MSC v.1942 64 bit (AMD64)]"}}
{"timestamp": "2025-03-07 08:02:51,202", "level": "INFO", "logger": "root", "message": "Supabase connection test successful", "module": "loans", "function": "main", "line": 498, "hostname": "Sheldon", "app": "loan_management_system", "session_id": "27ee7573-77ce-4554-a5ca-a296aaa46e50", "platform": {"system": "Windows", "release": "11", "version": "10.0.26100", "python": "3.13.2 (tags/v3.13.2:4f8bb39, Feb  4 2025, 15:23:48) [MSC v.1942 64 bit (AMD64)]"}}
{"timestamp": "2025-03-07 08:02:51,203", "level": "INFO", "logger": "root", "message": "Running update_overdue_loans at 2025-03-07 08:02:51", "module": "loans", "function": "update_overdue_loans", "line": 692, "hostname": "Sheldon", "app": "loan_management_system", "session_id": "27ee7573-77ce-4554-a5ca-a296aaa46e50", "platform": {"system": "Windows", "release": "11", "version": "10.0.26100", "python": "3.13.2 (tags/v3.13.2:4f8bb39, Feb  4 2025, 15:23:48) [MSC v.1942 64 bit (AMD64)]"}}
{"timestamp": "2025-03-07 08:02:51,392", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET https://ybsarkhaayjzlgamlcry.supabase.co/rest/v1/loans?select=id%2Cpayment_due_date%2Cclient_id%2Cinvoice_number%2Cloan_amount%2Cremaining_balance&status=eq.active&payment_due_date=lt.2025-03-07T08%3A02%3A51.203571 \"HTTP/2 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1025, "hostname": "Sheldon", "app": "loan_management_system", "session_id": "27ee7573-77ce-4554-a5ca-a296aaa46e50", "platform": {"system": "Windows", "release": "11", "version": "10.0.26100", "python": "3.13.2 (tags/v3.13.2:4f8bb39, Feb  4 2025, 15:23:48) [MSC v.1942 64 bit (AMD64)]"}}
{"timestamp": "2025-03-07 08:02:51,393", "level": "INFO", "logger": "root", "message": "Found 0 potentially overdue loans", "module": "loans", "function": "update_overdue_loans", "line": 713, "hostname": "Sheldon", "app": "loan_management_system", "session_id": "27ee7573-77ce-4554-a5ca-a296aaa46e50", "platform": {"system": "Windows", "release": "11", "version": "10.0.26100", "python": "3.13.2 (tags/v3.13.2:4f8bb39, Feb  4 2025, 15:23:48) [MSC v.1942 64 bit (AMD64)]"}}
{"timestamp": "2025-03-07 08:02:51,394", "level": "INFO", "logger": "root", "message": "Updated 0 loans to overdue status, skipped 0 loans with sufficient payments, encountered 0 errors", "module": "loans", "function": "update_overdue_loans", "line": 831, "hostname": "Sheldon", "app": "loan_management_system", "session_id": "27ee7573-77ce-4554-a5ca-a296aaa46e50", "platform": {"system": "Windows", "release": "11", "version": "10.0.26100", "python": "3.13.2 (tags/v3.13.2:4f8bb39, Feb  4 2025, 15:23:48) [MSC v.1942 64 bit (AMD64)]"}}
{"timestamp": "2025-03-07 08:02:51,394", "level": "INFO", "logger": "root", "message": "Updated 0 loans to overdue status", "module": "loans", "function": "main", "line": 506, "hostname": "Sheldon", "app": "loan_management_system", "session_id": "27ee7573-77ce-4554-a5ca-a296aaa46e50", "platform": {"system": "Windows", "release": "11", "version": "10.0.26100", "python": "3.13.2 (tags/v3.13.2:4f8bb39, Feb  4 2025, 15:23:48) [MSC v.1942 64 bit (AMD64)]"}}
{"timestamp": "2025-03-07 08:02:51,626", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET https://ybsarkhaayjzlgamlcry.supabase.co/rest/v1/loans?select=count&limit=1 \"HTTP/2 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1025, "hostname": "Sheldon", "app": "loan_management_system", "session_id": "27ee7573-77ce-4554-a5ca-a296aaa46e50", "platform": {"system": "Windows", "release": "11", "version": "10.0.26100", "python": "3.13.2 (tags/v3.13.2:4f8bb39, Feb  4 2025, 15:23:48) [MSC v.1942 64 bit (AMD64)]"}}
{"timestamp": "2025-03-07 08:02:51,628", "level": "INFO", "logger": "root", "message": "Found 1 loans in the database", "module": "loans", "function": "log_with_context", "line": 102, "hostname": "Sheldon", "app": "loan_management_system", "session_id": "27ee7573-77ce-4554-a5ca-a296aaa46e50", "platform": {"system": "Windows", "release": "11", "version": "10.0.26100", "python": "3.13.2 (tags/v3.13.2:4f8bb39, Feb  4 2025, 15:23:48) [MSC v.1942 64 bit (AMD64)]"}, "operation": "check_loans_table", "record_count": 1}
{"timestamp": "2025-03-07 08:02:51,628", "level": "INFO", "logger": "root", "message": "Today is not the 22nd day of the month. Use --test to run anyway. Exiting.", "module": "loans", "function": "main", "line": 554, "hostname": "Sheldon", "app": "loan_management_system", "session_id": "27ee7573-77ce-4554-a5ca-a296aaa46e50", "platform": {"system": "Windows", "release": "11", "version": "10.0.26100", "python": "3.13.2 (tags/v3.13.2:4f8bb39, Feb  4 2025, 15:23:48) [MSC v.1942 64 bit (AMD64)]"}}
{"timestamp": "2025-03-07 08:02:51,629", "level": "INFO", "logger": "root", "message": "Loan payment notification process completed at 2025-03-07 08:02:51", "module": "loans", "function": "main", "line": 675, "hostname": "Sheldon", "app": "loan_management_system", "session_id": "27ee7573-77ce-4554-a5ca-a296aaa46e50", "platform": {"system": "Windows", "release": "11", "version": "10.0.26100", "python": "3.13.2 (tags/v3.13.2:4f8bb39, Feb  4 2025, 15:23:48) [MSC v.1942 64 bit (AMD64)]"}}
{"timestamp": "2025-03-07 08:02:51,629", "level": "INFO", "logger": "root", "message": "Total execution time: 0.73 seconds", "module": "loans", "function": "main", "line": 676, "hostname": "Sheldon", "app": "loan_management_system", "session_id": "27ee7573-77ce-4554-a5ca-a296aaa46e50", "platform": {"system": "Windows", "release": "11", "version": "10.0.26100", "python": "3.13.2 (tags/v3.13.2:4f8bb39, Feb  4 2025, 15:23:48) [MSC v.1942 64 bit (AMD64)]"}}
{"timestamp": "2025-03-07 08:02:51,629", "level": "INFO", "logger": "root", "message": "Summary: 0 loans processed, 0 successful notifications, 0 loans marked as overdue, 0 penalties applied", "module": "loans", "function": "main", "line": 677, "hostname": "Sheldon", "app": "loan_management_system", "session_id": "27ee7573-77ce-4554-a5ca-a296aaa46e50", "platform": {"system": "Windows", "release": "11", "version": "10.0.26100", "python": "3.13.2 (tags/v3.13.2:4f8bb39, Feb  4 2025, 15:23:48) [MSC v.1942 64 bit (AMD64)]"}}
{"timestamp": "2025-03-07 08:02:51,630", "level": "INFO", "logger": "root", "message": "Reminders: 0 payment reminders, 0 due date reminders, 0 overdue notifications", "module": "loans", "function": "main", "line": 678, "hostname": "Sheldon", "app": "loan_management_system", "session_id": "27ee7573-77ce-4554-a5ca-a296aaa46e50", "platform": {"system": "Windows", "release": "11", "version": "10.0.26100", "python": "3.13.2 (tags/v3.13.2:4f8bb39, Feb  4 2025, 15:23:48) [MSC v.1942 64 bit (AMD64)]"}}
{"timestamp": "2025-03-07 12:31:10,676", "level": "INFO", "logger": "root", "message": "Structured logging initialized", "module": "loans", "function": "setup_logging", "line": 112, "hostname": "Sheldon", "app": "loan_management_system", "session_id": "57cbd76a-e464-487c-a242-36dd64c9365b", "platform": {"system": "Windows", "release": "11", "version": "10.0.26100", "python": "3.13.2 (tags/v3.13.2:4f8bb39, Feb  4 2025, 15:23:48) [MSC v.1942 64 bit (AMD64)]"}}
{"timestamp": "2025-03-07 12:31:11,057", "level": "INFO", "logger": "root", "message": "Performing initial database connection check...", "module": "loans", "function": "run_cli", "line": 1425, "hostname": "Sheldon", "app": "loan_management_system", "session_id": "57cbd76a-e464-487c-a242-36dd64c9365b", "platform": {"system": "Windows", "release": "11", "version": "10.0.26100", "python": "3.13.2 (tags/v3.13.2:4f8bb39, Feb  4 2025, 15:23:48) [MSC v.1942 64 bit (AMD64)]"}}
{"timestamp": "2025-03-07 12:31:12,584", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET https://ybsarkhaayjzlgamlcry.supabase.co/rest/v1/loans?select=count&limit=1 \"HTTP/2 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1025, "hostname": "Sheldon", "app": "loan_management_system", "session_id": "57cbd76a-e464-487c-a242-36dd64c9365b", "platform": {"system": "Windows", "release": "11", "version": "10.0.26100", "python": "3.13.2 (tags/v3.13.2:4f8bb39, Feb  4 2025, 15:23:48) [MSC v.1942 64 bit (AMD64)]"}}
{"timestamp": "2025-03-07 12:31:12,592", "level": "INFO", "logger": "root", "message": "Database connection test successful. Found 1 loans.", "module": "loans", "function": "log_with_context", "line": 104, "hostname": "Sheldon", "app": "loan_management_system", "session_id": "57cbd76a-e464-487c-a242-36dd64c9365b", "platform": {"system": "Windows", "release": "11", "version": "10.0.26100", "python": "3.13.2 (tags/v3.13.2:4f8bb39, Feb  4 2025, 15:23:48) [MSC v.1942 64 bit (AMD64)]"}, "operation": "check_database_connection", "table": "loans", "record_count": 1}
{"timestamp": "2025-03-07 12:31:12,788", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET https://ybsarkhaayjzlgamlcry.supabase.co/rest/v1/clients?select=count&limit=1 \"HTTP/2 206 Partial Content\"", "module": "_client", "function": "_send_single_request", "line": 1025, "hostname": "Sheldon", "app": "loan_management_system", "session_id": "57cbd76a-e464-487c-a242-36dd64c9365b", "platform": {"system": "Windows", "release": "11", "version": "10.0.26100", "python": "3.13.2 (tags/v3.13.2:4f8bb39, Feb  4 2025, 15:23:48) [MSC v.1942 64 bit (AMD64)]"}}
{"timestamp": "2025-03-07 12:31:12,790", "level": "INFO", "logger": "root", "message": "Clients table accessible. Found 1047 clients.", "module": "loans", "function": "log_with_context", "line": 104, "hostname": "Sheldon", "app": "loan_management_system", "session_id": "57cbd76a-e464-487c-a242-36dd64c9365b", "platform": {"system": "Windows", "release": "11", "version": "10.0.26100", "python": "3.13.2 (tags/v3.13.2:4f8bb39, Feb  4 2025, 15:23:48) [MSC v.1942 64 bit (AMD64)]"}, "operation": "check_database_connection", "table": "clients", "record_count": 1047}
{"timestamp": "2025-03-07 12:31:13,304", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET https://ybsarkhaayjzlgamlcry.supabase.co/rest/v1/loan_payments?select=count&limit=1 \"HTTP/2 206 Partial Content\"", "module": "_client", "function": "_send_single_request", "line": 1025, "hostname": "Sheldon", "app": "loan_management_system", "session_id": "57cbd76a-e464-487c-a242-36dd64c9365b", "platform": {"system": "Windows", "release": "11", "version": "10.0.26100", "python": "3.13.2 (tags/v3.13.2:4f8bb39, Feb  4 2025, 15:23:48) [MSC v.1942 64 bit (AMD64)]"}}
{"timestamp": "2025-03-07 12:31:13,307", "level": "INFO", "logger": "root", "message": "Loan payments table accessible. Found 2 payment records.", "module": "loans", "function": "log_with_context", "line": 104, "hostname": "Sheldon", "app": "loan_management_system", "session_id": "57cbd76a-e464-487c-a242-36dd64c9365b", "platform": {"system": "Windows", "release": "11", "version": "10.0.26100", "python": "3.13.2 (tags/v3.13.2:4f8bb39, Feb  4 2025, 15:23:48) [MSC v.1942 64 bit (AMD64)]"}, "operation": "check_database_connection", "table": "loan_payments", "record_count": 2}
{"timestamp": "2025-03-07 12:31:13,519", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET https://ybsarkhaayjzlgamlcry.supabase.co/rest/v1/gun_licences?select=count&limit=1 \"HTTP/2 206 Partial Content\"", "module": "_client", "function": "_send_single_request", "line": 1025, "hostname": "Sheldon", "app": "loan_management_system", "session_id": "57cbd76a-e464-487c-a242-36dd64c9365b", "platform": {"system": "Windows", "release": "11", "version": "10.0.26100", "python": "3.13.2 (tags/v3.13.2:4f8bb39, Feb  4 2025, 15:23:48) [MSC v.1942 64 bit (AMD64)]"}}
{"timestamp": "2025-03-07 12:31:13,520", "level": "INFO", "logger": "root", "message": "Gun licences table accessible. Found 365 licence records.", "module": "loans", "function": "log_with_context", "line": 104, "hostname": "Sheldon", "app": "loan_management_system", "session_id": "57cbd76a-e464-487c-a242-36dd64c9365b", "platform": {"system": "Windows", "release": "11", "version": "10.0.26100", "python": "3.13.2 (tags/v3.13.2:4f8bb39, Feb  4 2025, 15:23:48) [MSC v.1942 64 bit (AMD64)]"}, "operation": "check_database_connection", "table": "gun_licences", "record_count": 365}
{"timestamp": "2025-03-07 12:31:13,520", "level": "INFO", "logger": "root", "message": "Starting loan payment notification process at 2025-03-07 12:31:13", "module": "loans", "function": "log_with_context", "line": 104, "hostname": "Sheldon", "app": "loan_management_system", "session_id": "57cbd76a-e464-487c-a242-36dd64c9365b", "platform": {"system": "Windows", "release": "11", "version": "10.0.26100", "python": "3.13.2 (tags/v3.13.2:4f8bb39, Feb  4 2025, 15:23:48) [MSC v.1942 64 bit (AMD64)]"}, "operation": "main", "test_mode": false, "send_emails": true, "send_admin_summary": false, "start_time": "2025-03-07T12:31:13.520440"}
{"timestamp": "2025-03-07 12:31:13,713", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET https://ybsarkhaayjzlgamlcry.supabase.co/rest/v1/loans?select=count&limit=1 \"HTTP/2 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1025, "hostname": "Sheldon", "app": "loan_management_system", "session_id": "57cbd76a-e464-487c-a242-36dd64c9365b", "platform": {"system": "Windows", "release": "11", "version": "10.0.26100", "python": "3.13.2 (tags/v3.13.2:4f8bb39, Feb  4 2025, 15:23:48) [MSC v.1942 64 bit (AMD64)]"}}
{"timestamp": "2025-03-07 12:31:13,714", "level": "INFO", "logger": "root", "message": "Supabase connection test successful", "module": "loans", "function": "main", "line": 500, "hostname": "Sheldon", "app": "loan_management_system", "session_id": "57cbd76a-e464-487c-a242-36dd64c9365b", "platform": {"system": "Windows", "release": "11", "version": "10.0.26100", "python": "3.13.2 (tags/v3.13.2:4f8bb39, Feb  4 2025, 15:23:48) [MSC v.1942 64 bit (AMD64)]"}}
{"timestamp": "2025-03-07 12:31:13,714", "level": "INFO", "logger": "root", "message": "Running update_overdue_loans at 2025-03-07 12:31:13", "module": "loans", "function": "update_overdue_loans", "line": 694, "hostname": "Sheldon", "app": "loan_management_system", "session_id": "57cbd76a-e464-487c-a242-36dd64c9365b", "platform": {"system": "Windows", "release": "11", "version": "10.0.26100", "python": "3.13.2 (tags/v3.13.2:4f8bb39, Feb  4 2025, 15:23:48) [MSC v.1942 64 bit (AMD64)]"}}
{"timestamp": "2025-03-07 12:31:14,227", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET https://ybsarkhaayjzlgamlcry.supabase.co/rest/v1/loans?select=id%2Cpayment_due_date%2Cclient_id%2Cinvoice_number%2Cloan_amount%2Cremaining_balance&status=eq.active&payment_due_date=lt.2025-03-07T12%3A31%3A13.714876 \"HTTP/2 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1025, "hostname": "Sheldon", "app": "loan_management_system", "session_id": "57cbd76a-e464-487c-a242-36dd64c9365b", "platform": {"system": "Windows", "release": "11", "version": "10.0.26100", "python": "3.13.2 (tags/v3.13.2:4f8bb39, Feb  4 2025, 15:23:48) [MSC v.1942 64 bit (AMD64)]"}}
{"timestamp": "2025-03-07 12:31:14,230", "level": "INFO", "logger": "root", "message": "Found 0 potentially overdue loans", "module": "loans", "function": "update_overdue_loans", "line": 715, "hostname": "Sheldon", "app": "loan_management_system", "session_id": "57cbd76a-e464-487c-a242-36dd64c9365b", "platform": {"system": "Windows", "release": "11", "version": "10.0.26100", "python": "3.13.2 (tags/v3.13.2:4f8bb39, Feb  4 2025, 15:23:48) [MSC v.1942 64 bit (AMD64)]"}}
{"timestamp": "2025-03-07 12:31:14,231", "level": "INFO", "logger": "root", "message": "Updated 0 loans to overdue status, skipped 0 loans with sufficient payments, encountered 0 errors", "module": "loans", "function": "update_overdue_loans", "line": 833, "hostname": "Sheldon", "app": "loan_management_system", "session_id": "57cbd76a-e464-487c-a242-36dd64c9365b", "platform": {"system": "Windows", "release": "11", "version": "10.0.26100", "python": "3.13.2 (tags/v3.13.2:4f8bb39, Feb  4 2025, 15:23:48) [MSC v.1942 64 bit (AMD64)]"}}
{"timestamp": "2025-03-07 12:31:14,233", "level": "INFO", "logger": "root", "message": "Updated 0 loans to overdue status", "module": "loans", "function": "main", "line": 508, "hostname": "Sheldon", "app": "loan_management_system", "session_id": "57cbd76a-e464-487c-a242-36dd64c9365b", "platform": {"system": "Windows", "release": "11", "version": "10.0.26100", "python": "3.13.2 (tags/v3.13.2:4f8bb39, Feb  4 2025, 15:23:48) [MSC v.1942 64 bit (AMD64)]"}}
{"timestamp": "2025-03-07 12:31:14,741", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET https://ybsarkhaayjzlgamlcry.supabase.co/rest/v1/loans?select=count&limit=1 \"HTTP/2 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1025, "hostname": "Sheldon", "app": "loan_management_system", "session_id": "57cbd76a-e464-487c-a242-36dd64c9365b", "platform": {"system": "Windows", "release": "11", "version": "10.0.26100", "python": "3.13.2 (tags/v3.13.2:4f8bb39, Feb  4 2025, 15:23:48) [MSC v.1942 64 bit (AMD64)]"}}
{"timestamp": "2025-03-07 12:31:14,744", "level": "INFO", "logger": "root", "message": "Found 1 loans in the database", "module": "loans", "function": "log_with_context", "line": 104, "hostname": "Sheldon", "app": "loan_management_system", "session_id": "57cbd76a-e464-487c-a242-36dd64c9365b", "platform": {"system": "Windows", "release": "11", "version": "10.0.26100", "python": "3.13.2 (tags/v3.13.2:4f8bb39, Feb  4 2025, 15:23:48) [MSC v.1942 64 bit (AMD64)]"}, "operation": "check_loans_table", "record_count": 1}
{"timestamp": "2025-03-07 12:31:14,745", "level": "INFO", "logger": "root", "message": "Today is not the 22nd day of the month. Use --test to run anyway. Exiting.", "module": "loans", "function": "main", "line": 556, "hostname": "Sheldon", "app": "loan_management_system", "session_id": "57cbd76a-e464-487c-a242-36dd64c9365b", "platform": {"system": "Windows", "release": "11", "version": "10.0.26100", "python": "3.13.2 (tags/v3.13.2:4f8bb39, Feb  4 2025, 15:23:48) [MSC v.1942 64 bit (AMD64)]"}}
{"timestamp": "2025-03-07 12:31:14,747", "level": "INFO", "logger": "root", "message": "Loan payment notification process completed at 2025-03-07 12:31:14", "module": "loans", "function": "main", "line": 677, "hostname": "Sheldon", "app": "loan_management_system", "session_id": "57cbd76a-e464-487c-a242-36dd64c9365b", "platform": {"system": "Windows", "release": "11", "version": "10.0.26100", "python": "3.13.2 (tags/v3.13.2:4f8bb39, Feb  4 2025, 15:23:48) [MSC v.1942 64 bit (AMD64)]"}}
{"timestamp": "2025-03-07 12:31:14,748", "level": "INFO", "logger": "root", "message": "Total execution time: 1.23 seconds", "module": "loans", "function": "main", "line": 678, "hostname": "Sheldon", "app": "loan_management_system", "session_id": "57cbd76a-e464-487c-a242-36dd64c9365b", "platform": {"system": "Windows", "release": "11", "version": "10.0.26100", "python": "3.13.2 (tags/v3.13.2:4f8bb39, Feb  4 2025, 15:23:48) [MSC v.1942 64 bit (AMD64)]"}}
{"timestamp": "2025-03-07 12:31:14,749", "level": "INFO", "logger": "root", "message": "Summary: 0 loans processed, 0 successful notifications, 0 loans marked as overdue, 0 penalties applied", "module": "loans", "function": "main", "line": 679, "hostname": "Sheldon", "app": "loan_management_system", "session_id": "57cbd76a-e464-487c-a242-36dd64c9365b", "platform": {"system": "Windows", "release": "11", "version": "10.0.26100", "python": "3.13.2 (tags/v3.13.2:4f8bb39, Feb  4 2025, 15:23:48) [MSC v.1942 64 bit (AMD64)]"}}
{"timestamp": "2025-03-07 12:31:14,751", "level": "INFO", "logger": "root", "message": "Reminders: 0 payment reminders, 0 due date reminders, 0 overdue notifications", "module": "loans", "function": "main", "line": 680, "hostname": "Sheldon", "app": "loan_management_system", "session_id": "57cbd76a-e464-487c-a242-36dd64c9365b", "platform": {"system": "Windows", "release": "11", "version": "10.0.26100", "python": "3.13.2 (tags/v3.13.2:4f8bb39, Feb  4 2025, 15:23:48) [MSC v.1942 64 bit (AMD64)]"}}
{"timestamp": "2025-03-07 12:31:35,524", "level": "INFO", "logger": "root", "message": "Structured logging initialized", "module": "loans", "function": "setup_logging", "line": 112, "hostname": "Sheldon", "app": "loan_management_system", "session_id": "0c4b3a13-0833-46c3-91ea-6f100829b007", "platform": {"system": "Windows", "release": "11", "version": "10.0.26100", "python": "3.13.2 (tags/v3.13.2:4f8bb39, Feb  4 2025, 15:23:48) [MSC v.1942 64 bit (AMD64)]"}}
{"timestamp": "2025-03-07 12:31:35,900", "level": "INFO", "logger": "root", "message": "Performing initial database connection check...", "module": "loans", "function": "run_cli", "line": 1425, "hostname": "Sheldon", "app": "loan_management_system", "session_id": "0c4b3a13-0833-46c3-91ea-6f100829b007", "platform": {"system": "Windows", "release": "11", "version": "10.0.26100", "python": "3.13.2 (tags/v3.13.2:4f8bb39, Feb  4 2025, 15:23:48) [MSC v.1942 64 bit (AMD64)]"}}
{"timestamp": "2025-03-07 12:31:36,416", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET https://ybsarkhaayjzlgamlcry.supabase.co/rest/v1/loans?select=count&limit=1 \"HTTP/2 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1025, "hostname": "Sheldon", "app": "loan_management_system", "session_id": "0c4b3a13-0833-46c3-91ea-6f100829b007", "platform": {"system": "Windows", "release": "11", "version": "10.0.26100", "python": "3.13.2 (tags/v3.13.2:4f8bb39, Feb  4 2025, 15:23:48) [MSC v.1942 64 bit (AMD64)]"}}
{"timestamp": "2025-03-07 12:31:36,421", "level": "INFO", "logger": "root", "message": "Database connection test successful. Found 1 loans.", "module": "loans", "function": "log_with_context", "line": 104, "hostname": "Sheldon", "app": "loan_management_system", "session_id": "0c4b3a13-0833-46c3-91ea-6f100829b007", "platform": {"system": "Windows", "release": "11", "version": "10.0.26100", "python": "3.13.2 (tags/v3.13.2:4f8bb39, Feb  4 2025, 15:23:48) [MSC v.1942 64 bit (AMD64)]"}, "operation": "check_database_connection", "table": "loans", "record_count": 1}
{"timestamp": "2025-03-07 12:31:36,617", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET https://ybsarkhaayjzlgamlcry.supabase.co/rest/v1/clients?select=count&limit=1 \"HTTP/2 206 Partial Content\"", "module": "_client", "function": "_send_single_request", "line": 1025, "hostname": "Sheldon", "app": "loan_management_system", "session_id": "0c4b3a13-0833-46c3-91ea-6f100829b007", "platform": {"system": "Windows", "release": "11", "version": "10.0.26100", "python": "3.13.2 (tags/v3.13.2:4f8bb39, Feb  4 2025, 15:23:48) [MSC v.1942 64 bit (AMD64)]"}}
{"timestamp": "2025-03-07 12:31:36,619", "level": "INFO", "logger": "root", "message": "Clients table accessible. Found 1047 clients.", "module": "loans", "function": "log_with_context", "line": 104, "hostname": "Sheldon", "app": "loan_management_system", "session_id": "0c4b3a13-0833-46c3-91ea-6f100829b007", "platform": {"system": "Windows", "release": "11", "version": "10.0.26100", "python": "3.13.2 (tags/v3.13.2:4f8bb39, Feb  4 2025, 15:23:48) [MSC v.1942 64 bit (AMD64)]"}, "operation": "check_database_connection", "table": "clients", "record_count": 1047}
{"timestamp": "2025-03-07 12:31:36,807", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET https://ybsarkhaayjzlgamlcry.supabase.co/rest/v1/loan_payments?select=count&limit=1 \"HTTP/2 206 Partial Content\"", "module": "_client", "function": "_send_single_request", "line": 1025, "hostname": "Sheldon", "app": "loan_management_system", "session_id": "0c4b3a13-0833-46c3-91ea-6f100829b007", "platform": {"system": "Windows", "release": "11", "version": "10.0.26100", "python": "3.13.2 (tags/v3.13.2:4f8bb39, Feb  4 2025, 15:23:48) [MSC v.1942 64 bit (AMD64)]"}}
{"timestamp": "2025-03-07 12:31:36,808", "level": "INFO", "logger": "root", "message": "Loan payments table accessible. Found 2 payment records.", "module": "loans", "function": "log_with_context", "line": 104, "hostname": "Sheldon", "app": "loan_management_system", "session_id": "0c4b3a13-0833-46c3-91ea-6f100829b007", "platform": {"system": "Windows", "release": "11", "version": "10.0.26100", "python": "3.13.2 (tags/v3.13.2:4f8bb39, Feb  4 2025, 15:23:48) [MSC v.1942 64 bit (AMD64)]"}, "operation": "check_database_connection", "table": "loan_payments", "record_count": 2}
{"timestamp": "2025-03-07 12:31:36,998", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET https://ybsarkhaayjzlgamlcry.supabase.co/rest/v1/gun_licences?select=count&limit=1 \"HTTP/2 206 Partial Content\"", "module": "_client", "function": "_send_single_request", "line": 1025, "hostname": "Sheldon", "app": "loan_management_system", "session_id": "0c4b3a13-0833-46c3-91ea-6f100829b007", "platform": {"system": "Windows", "release": "11", "version": "10.0.26100", "python": "3.13.2 (tags/v3.13.2:4f8bb39, Feb  4 2025, 15:23:48) [MSC v.1942 64 bit (AMD64)]"}}
{"timestamp": "2025-03-07 12:31:37,000", "level": "INFO", "logger": "root", "message": "Gun licences table accessible. Found 365 licence records.", "module": "loans", "function": "log_with_context", "line": 104, "hostname": "Sheldon", "app": "loan_management_system", "session_id": "0c4b3a13-0833-46c3-91ea-6f100829b007", "platform": {"system": "Windows", "release": "11", "version": "10.0.26100", "python": "3.13.2 (tags/v3.13.2:4f8bb39, Feb  4 2025, 15:23:48) [MSC v.1942 64 bit (AMD64)]"}, "operation": "check_database_connection", "table": "gun_licences", "record_count": 365}
{"timestamp": "2025-03-07 12:31:37,001", "level": "INFO", "logger": "root", "message": "Starting loan payment notification process at 2025-03-07 12:31:37", "module": "loans", "function": "log_with_context", "line": 104, "hostname": "Sheldon", "app": "loan_management_system", "session_id": "0c4b3a13-0833-46c3-91ea-6f100829b007", "platform": {"system": "Windows", "release": "11", "version": "10.0.26100", "python": "3.13.2 (tags/v3.13.2:4f8bb39, Feb  4 2025, 15:23:48) [MSC v.1942 64 bit (AMD64)]"}, "operation": "main", "test_mode": false, "send_emails": true, "send_admin_summary": false, "start_time": "2025-03-07T12:31:37.001337"}
{"timestamp": "2025-03-07 12:31:37,199", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET https://ybsarkhaayjzlgamlcry.supabase.co/rest/v1/loans?select=count&limit=1 \"HTTP/2 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1025, "hostname": "Sheldon", "app": "loan_management_system", "session_id": "0c4b3a13-0833-46c3-91ea-6f100829b007", "platform": {"system": "Windows", "release": "11", "version": "10.0.26100", "python": "3.13.2 (tags/v3.13.2:4f8bb39, Feb  4 2025, 15:23:48) [MSC v.1942 64 bit (AMD64)]"}}
{"timestamp": "2025-03-07 12:31:37,202", "level": "INFO", "logger": "root", "message": "Supabase connection test successful", "module": "loans", "function": "main", "line": 500, "hostname": "Sheldon", "app": "loan_management_system", "session_id": "0c4b3a13-0833-46c3-91ea-6f100829b007", "platform": {"system": "Windows", "release": "11", "version": "10.0.26100", "python": "3.13.2 (tags/v3.13.2:4f8bb39, Feb  4 2025, 15:23:48) [MSC v.1942 64 bit (AMD64)]"}}
{"timestamp": "2025-03-07 12:31:37,203", "level": "INFO", "logger": "root", "message": "Running update_overdue_loans at 2025-03-07 12:31:37", "module": "loans", "function": "update_overdue_loans", "line": 694, "hostname": "Sheldon", "app": "loan_management_system", "session_id": "0c4b3a13-0833-46c3-91ea-6f100829b007", "platform": {"system": "Windows", "release": "11", "version": "10.0.26100", "python": "3.13.2 (tags/v3.13.2:4f8bb39, Feb  4 2025, 15:23:48) [MSC v.1942 64 bit (AMD64)]"}}
{"timestamp": "2025-03-07 12:31:37,400", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET https://ybsarkhaayjzlgamlcry.supabase.co/rest/v1/loans?select=id%2Cpayment_due_date%2Cclient_id%2Cinvoice_number%2Cloan_amount%2Cremaining_balance&status=eq.active&payment_due_date=lt.2025-03-07T12%3A31%3A37.203726 \"HTTP/2 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1025, "hostname": "Sheldon", "app": "loan_management_system", "session_id": "0c4b3a13-0833-46c3-91ea-6f100829b007", "platform": {"system": "Windows", "release": "11", "version": "10.0.26100", "python": "3.13.2 (tags/v3.13.2:4f8bb39, Feb  4 2025, 15:23:48) [MSC v.1942 64 bit (AMD64)]"}}
{"timestamp": "2025-03-07 12:31:37,401", "level": "INFO", "logger": "root", "message": "Found 0 potentially overdue loans", "module": "loans", "function": "update_overdue_loans", "line": 715, "hostname": "Sheldon", "app": "loan_management_system", "session_id": "0c4b3a13-0833-46c3-91ea-6f100829b007", "platform": {"system": "Windows", "release": "11", "version": "10.0.26100", "python": "3.13.2 (tags/v3.13.2:4f8bb39, Feb  4 2025, 15:23:48) [MSC v.1942 64 bit (AMD64)]"}}
{"timestamp": "2025-03-07 12:31:37,402", "level": "INFO", "logger": "root", "message": "Updated 0 loans to overdue status, skipped 0 loans with sufficient payments, encountered 0 errors", "module": "loans", "function": "update_overdue_loans", "line": 833, "hostname": "Sheldon", "app": "loan_management_system", "session_id": "0c4b3a13-0833-46c3-91ea-6f100829b007", "platform": {"system": "Windows", "release": "11", "version": "10.0.26100", "python": "3.13.2 (tags/v3.13.2:4f8bb39, Feb  4 2025, 15:23:48) [MSC v.1942 64 bit (AMD64)]"}}
{"timestamp": "2025-03-07 12:31:37,402", "level": "INFO", "logger": "root", "message": "Updated 0 loans to overdue status", "module": "loans", "function": "main", "line": 508, "hostname": "Sheldon", "app": "loan_management_system", "session_id": "0c4b3a13-0833-46c3-91ea-6f100829b007", "platform": {"system": "Windows", "release": "11", "version": "10.0.26100", "python": "3.13.2 (tags/v3.13.2:4f8bb39, Feb  4 2025, 15:23:48) [MSC v.1942 64 bit (AMD64)]"}}
{"timestamp": "2025-03-07 12:31:37,587", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET https://ybsarkhaayjzlgamlcry.supabase.co/rest/v1/loans?select=count&limit=1 \"HTTP/2 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1025, "hostname": "Sheldon", "app": "loan_management_system", "session_id": "0c4b3a13-0833-46c3-91ea-6f100829b007", "platform": {"system": "Windows", "release": "11", "version": "10.0.26100", "python": "3.13.2 (tags/v3.13.2:4f8bb39, Feb  4 2025, 15:23:48) [MSC v.1942 64 bit (AMD64)]"}}
{"timestamp": "2025-03-07 12:31:37,589", "level": "INFO", "logger": "root", "message": "Found 1 loans in the database", "module": "loans", "function": "log_with_context", "line": 104, "hostname": "Sheldon", "app": "loan_management_system", "session_id": "0c4b3a13-0833-46c3-91ea-6f100829b007", "platform": {"system": "Windows", "release": "11", "version": "10.0.26100", "python": "3.13.2 (tags/v3.13.2:4f8bb39, Feb  4 2025, 15:23:48) [MSC v.1942 64 bit (AMD64)]"}, "operation": "check_loans_table", "record_count": 1}
{"timestamp": "2025-03-07 12:31:37,591", "level": "INFO", "logger": "root", "message": "Today is not the 22nd day of the month. Use --test to run anyway. Exiting.", "module": "loans", "function": "main", "line": 556, "hostname": "Sheldon", "app": "loan_management_system", "session_id": "0c4b3a13-0833-46c3-91ea-6f100829b007", "platform": {"system": "Windows", "release": "11", "version": "10.0.26100", "python": "3.13.2 (tags/v3.13.2:4f8bb39, Feb  4 2025, 15:23:48) [MSC v.1942 64 bit (AMD64)]"}}
{"timestamp": "2025-03-07 12:31:37,592", "level": "INFO", "logger": "root", "message": "Loan payment notification process completed at 2025-03-07 12:31:37", "module": "loans", "function": "main", "line": 677, "hostname": "Sheldon", "app": "loan_management_system", "session_id": "0c4b3a13-0833-46c3-91ea-6f100829b007", "platform": {"system": "Windows", "release": "11", "version": "10.0.26100", "python": "3.13.2 (tags/v3.13.2:4f8bb39, Feb  4 2025, 15:23:48) [MSC v.1942 64 bit (AMD64)]"}}
{"timestamp": "2025-03-07 12:31:37,593", "level": "INFO", "logger": "root", "message": "Total execution time: 0.59 seconds", "module": "loans", "function": "main", "line": 678, "hostname": "Sheldon", "app": "loan_management_system", "session_id": "0c4b3a13-0833-46c3-91ea-6f100829b007", "platform": {"system": "Windows", "release": "11", "version": "10.0.26100", "python": "3.13.2 (tags/v3.13.2:4f8bb39, Feb  4 2025, 15:23:48) [MSC v.1942 64 bit (AMD64)]"}}
{"timestamp": "2025-03-07 12:31:37,594", "level": "INFO", "logger": "root", "message": "Summary: 0 loans processed, 0 successful notifications, 0 loans marked as overdue, 0 penalties applied", "module": "loans", "function": "main", "line": 679, "hostname": "Sheldon", "app": "loan_management_system", "session_id": "0c4b3a13-0833-46c3-91ea-6f100829b007", "platform": {"system": "Windows", "release": "11", "version": "10.0.26100", "python": "3.13.2 (tags/v3.13.2:4f8bb39, Feb  4 2025, 15:23:48) [MSC v.1942 64 bit (AMD64)]"}}
{"timestamp": "2025-03-07 12:31:37,595", "level": "INFO", "logger": "root", "message": "Reminders: 0 payment reminders, 0 due date reminders, 0 overdue notifications", "module": "loans", "function": "main", "line": 680, "hostname": "Sheldon", "app": "loan_management_system", "session_id": "0c4b3a13-0833-46c3-91ea-6f100829b007", "platform": {"system": "Windows", "release": "11", "version": "10.0.26100", "python": "3.13.2 (tags/v3.13.2:4f8bb39, Feb  4 2025, 15:23:48) [MSC v.1942 64 bit (AMD64)]"}}
